import './polyfills';
import * as fs from '../platform/server/fs';
import { q } from '../shared/query';
import { amountToInteger, integerToAmount } from '../shared/util';
import { type Handlers } from '../types/handlers';
import * as db from './db';
export declare let handlers: Handlers;
export declare function getDefaultDocumentDir(): string;
export declare function initApp(isDev: any, socketName: any): Promise<void>;
type BaseInitConfig = {
    dataDir?: string;
    verbose?: boolean;
};
type ServerInitConfig = BaseInitConfig & {
    serverURL: string;
};
type PasswordAuthConfig = ServerInitConfig & {
    password: string;
    sessionToken?: never;
};
type SessionTokenAuthConfig = ServerInitConfig & {
    sessionToken: string;
    password?: never;
};
type NoServerConfig = BaseInitConfig & {
    serverURL?: undefined;
    password?: never;
    sessionToken?: never;
};
export type InitConfig = PasswordAuthConfig | SessionTokenAuthConfig | NoServerConfig;
export declare function init(config: InitConfig): Promise<{
    getDataDir: typeof fs.getDataDir;
    sendMessage: (msg: any, args: any) => void;
    send: <K extends keyof Handlers, T extends Handlers[K]>(name: K, args?: Parameters<T>[0]) => Promise<Awaited<ReturnType<T>>>;
    on: (name: any, func: any) => void;
    q: typeof q;
    db: typeof db;
    amountToInteger: typeof amountToInteger;
    integerToAmount: typeof integerToAmount;
}>;
export declare const lib: {
    getDataDir: typeof fs.getDataDir;
    sendMessage: (msg: any, args: any) => void;
    send: <K extends keyof Handlers, T extends Handlers[K]>(name: K, args?: Parameters<T>[0]) => Promise<Awaited<ReturnType<T>>>;
    on: (name: any, func: any) => void;
    q: typeof q;
    db: typeof db;
    amountToInteger: typeof amountToInteger;
    integerToAmount: typeof integerToAmount;
};
export {};
